IF object_id(N'[dbo].[FK_dbo.Subjects_dbo.Courses_CourseId]', N'F') IS NOT NULL
    ALTER TABLE [dbo].[Subjects] DROP CONSTRAINT [FK_dbo.Subjects_dbo.Courses_CourseId]
IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_CourseId' AND object_id = object_id(N'[dbo].[Subjects]', N'U'))
    DROP INDEX [IX_CourseId] ON [dbo].[Subjects]
EXECUTE sp_rename @objname = N'dbo.Subjects.CourseId', @newname = N'Course_Id', @objtype = N'COLUMN'
DECLARE @var0 nvarchar(128)
SELECT @var0 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.Subjects')
AND col_name(parent_object_id, parent_column_id) = 'Course_Id';
IF @var0 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[Subjects] DROP CONSTRAINT [' + @var0 + ']')
ALTER TABLE [dbo].[Subjects] ALTER COLUMN [Course_Id] [int] NULL
CREATE INDEX [IX_Course_Id] ON [dbo].[Subjects]([Course_Id])
ALTER TABLE [dbo].[Subjects] ADD CONSTRAINT [FK_dbo.Subjects_dbo.Courses_Course_Id] FOREIGN KEY ([Course_Id]) REFERENCES [dbo].[Courses] ([Id])
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'202006142346180_RemoveCourseIdFromSubject', N'SchoolDomain.DataModel.Migrations.Configuration',  0x1F8B0800000000000400ED5C5B6FDB36147E1FB0FF20E8691B522B495FBAC06E9139C910AC498A3829F616D0D2B1A38DA234910A1C0CFB657BD84FDA5F1875A3245E74B11DD71D82015D23928787E77CE7469EF4DFBFFF197F5805D87A8298FA2199D847A343DB02E2869E4F96133B618B37EFEC0FEFBFFD667CEE052BEB7339EF6D3A8FAF2474623F32169D380E751F21407414F86E1CD270C1466E1838C80B9DE3C3C31F9DA3230738099BD3B2ACF16D42981F40F603FF711A12172296207C157A8069F19D8FCC32AAD6350A8046C88589CDBF84213E0B03E493D11962285B625BA7D8479C9B19E0856D2142428618E7F5E49EC28CC52159CE22FE01E1BBE708F8BC05C2148A339C54D3FB1EE7F0383D8E532D2C49B909659CB761048FDE16F271E4E56B49D916F2E3123CE79266CFE9A933294EEC6998C4E9D1E5AD4EA6384EA749229E624429D051BEECC0D20D1E08647000A5FF1D58D304B32486098184C5081F589F9239F6DD5FE0F92EFC1DC8842418D7F9E49CF2B1C607FEE9531C4610B3E75B5814DC5F7AB6E534D739F242B1ACB6263FD925616F8F6DEB9A6F8EE618040C6A5298B130869F81408C18789F1063109394066482547697F64AFF2C77E3B8E366645B5768F511C8923D4E6CFE57DBBAF057E0955F0A0EEE89CFAD8E2F6271029D9B24C11CE29BC58C25295BB4EB78EDD4728D760B49A2728D9EFC6526332D3DDBBA059C0DD3473FCA0D73940F3DE458E26C5FC461701B62B1A81C79B843F11218E728D40ECFF8FFDD212C25F3DFC04D05A5612A27FA50CDA9B89286C4BE255BF278C9769DAFB1539960AB6196721B6898F9C757C3DC07C33CF5BC1828DD99031086B41DCB15E436315DD9460C96BD9E89E48636DC46F275AF46B217461203DAF226FD019447CCE100CAD7BD02682F00B4232F7BBA84CD32ABDCE76D2FB32A53779D7BCE01FA504EA9B9E7C688EA9E9BC33AF7DC27B33A2771883178ADCCA9935536E539468695894322CB29A5A1EB677C36B22F11DF9AC73F279ED51EEC7224568192C391BB003FE246CFB7E795B52D1BF70D39030C0CAC53372F14A788BAC853E1C08FE0F56447A4CD153B25209AECFCA0ECC27D0CC4A99123CCCB71CABD964F98EA907CE2FA11C2ADD29056F57464E949057D79E40C2220A9DA5BCFDD67E3AADA51B717BB480AE892CDD8A9E1A91D6672B16152ACB1F2E8D2ECE16874A428D74C5783189164B54266C09925DF64C4B2C151D5382BA37717988D447B1BC856ED753DDBD272BE0BDBD2EAA1CFC655BCFB22B6650C335DE030C79C4EEC75985B67B0DA9EDDE5818ECB90710942DC707767F3F43BAC7489EF3D8522F7A5455A241F26A53B032617895564952C4991469340CE928E40193ABB08889B1A954229C32E12E2E64C25512A5A225113BB7C96AA2AAE4DD2D7CDB25D74661682F39AE014EBEA4C086A5404AFB2DB6A1EB0C7E1958B33F5F4ADE1AE57C0EBE6BC577CAB8B51F0BBB104E4AC5BA3FE96D8D727FAD5F916986DD3BF3EDEBD88FECD69BD590EEDBE7998775E57364667BC1948CA5A43B8E0EA19CBC9DFB1CAF72EC7F0E035BE4251C46BD9DA0358F1C59AE5AF5FD337B3E14F42414EC371A9E66548702B7662618C96208DA6B8F1E0C28F294B1FDDE62885FBD40B946972C031F8E172B7664C5175573AE7727EFAF74664931E02477A43AB2479C10F17A4C94E76D3A1D885BA307B854418C59A6B956988938098B32EF3EAFCA2A4BE3EFF328082F208D4A0A68CF6A75C9548758AE6C22945B4245D25FD5334A9E4CC4D60F4824D1910B7009B22F5180E1BD3C27D858DB83CAB13111F87C34F84131DFA8C11FBCB41C69C890CC74C916CAE011AD3CABD454D7667DF804CF6657FF45AFAB96DE8B5A800D6D0AB69E5DEEA754BDE20BB2A6FD0580EE2A3BA39A81331DF27BC3CCE9A699E2E5DA9153E3DB392DA8A9E1E21CD5EB5A2520A255540BD005750D3DFD9D4361FCE97F1C26A6D43686588E79B9E9F5D065DD2F481453CAEF43AAD9CD60F8684B916EAEB6E344BD7074957EDB4A6564AB25B804B5731B657B8319FBB1B384A59284F119E4C94875219382E4AB2EEE648A546CBA7D8163FFD93EF65F5D933651064F01BCDFEC053EC67975DE5842B44FC0550963F53DBC78747C7526FE5FEF4393A947A5853D2AACD8E4D95EDE0A5DD4F65DAF9963EF039B9FEB84E9E50EC3EA2F8BB00ADBEAF53DAA47F30E37AC3EE415FDB5D71493C584DEC3FB34527D6E5AF0FE5BA03EB26E6B83BB10EADBF3A361FDA49F7AAF5B6B689AD20486A40EB06D0E056AF57251A9BA73622544B858619AE5868B2DC3EBBD703EA40BF2156F6DF7F707BD82BE85ECC73D49AAAD60937724BD530D46E25DC6CD83BF4E59A85CA57AADD7607EDA265C178E9FF95F7FF6CDEEF231EC407371AACABF501BAD8B451C578FF6A6A4D3114AE3BEC4DE9E881EAADF697EA272C9B1FD6E9BADA77B818AF75FF379D4CDBE858DAB9C318A2971D7A8CF6BBAEAD8340DFBEA53EBA1B5E43A40E71636F567E2134B1BD79C8559CE73EA68E107DE3564BDF968EB8A169C9D4D4D5D6D3A5256FEAD330747CB5357C69E91BDECF77D40EA6E9FFEAD1FEA4E9F7D9CF76AF1E8CEA9D93E6527CAFBAB9D63C5E13A38D27C5AFA55DAB0FF32FA0D301CD57EA6D3A77DBB57F9080470DEA2F2B12E9130101B7E1B0C59C4BB208CBD82171544E912AD82B60C8E3DEFC3466FE02B98C0FBBBCB8CE7E85E933C2099F721ECCC1BB2437098B12C68F0CC11C377EF52A8D3F6DFB671D664D9EC73751F65B39DB380267D3E747801BF253E2634FF07DA129A20D24D2C0565C75A4BA64E995C7F25950BA0E494F4285F8443CBE8320C29C18BD2133F404EBF0764FE1232C91FB5C3E8A9889742BA229F6F1998F96310A6841A35ACF7FE418F682D5FBFF00CA2C3CBD97430000 , N'6.4.4')

